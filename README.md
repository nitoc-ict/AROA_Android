# AROA_Android <!-- omit in toc -->

## 説明 <!-- omit in toc --> <br/>

AROAは、高専プロコン第33回群馬大会 課題部門提出作品です。<br/>
企画書 [AROA -拡張現実で日常に競争を-](https://drive.google.com/file/d/13uSCRXZHwz8V4P9N1hx53DmdcfdGsp91/view?usp=sharing)<br/>
<br/>
AROA_Androidは、AROAのAndoridアプリです。<br/>
AROAは、Andorid, WearOS, Nrial Air のアプリケーションで構成されます。<br/>
Andoridアプリは主な機能を担っています。<br/>
Androidアプリ単体でも動作しますが、WearOS と Nrial Air と連携させることで進化を発揮します。
<br/>
<br/>

## 関連リポジトリ <!-- omit in toc -->
[AROA_wearOS](https://github.com/nitoc-ict/AROA_wearOS)<br/>
[AROA_Unity](https://github.com/nitoc-ict/AROA_Unity)<br/>
<br/>
<br/>

## 目次 <!-- omit in toc --> <br/>
- [開発するにあたって](#開発するにあたって)
  - [各ブランチの説明](#各ブランチの説明)
  - [作業手順](#作業手順)
  - [環境構築](#環境構築)
  - [ブランチ命名規則 <br/>](#ブランチ命名規則-)
  - [コミットの粒度について <br/>](#コミットの粒度について-)
  - [プルリクエストの作成方法](#プルリクエストの作成方法)

<br/>
<br/>


# 開発するにあたって

## 各ブランチの説明

**main**<br/>
動く状態のアプリを置くようにしたい<br/>

**dev**<br/>
開発途中で機能を統合していくブランチ<br/>

**feature/**_hogefuga_<br/>
機能を開発する為のブランチ<br/>
<br/>
<br/>



## 作業手順
1. `git switch dev` でdevブランチに移動する。

1. `git switch -c ブランチ名` で、devブランチから新規ブランチを作成します。<br/>
ブランチ名のつけ方に関しては、[**ブランチ命名規則**](#ブランチ命名規則) を参照してください。

1. 作業をします。この際、コミットの粒度を細かくすることを意識してください。<br/>
詳しくは [**コミット粒度について**](#コミットの粒度について) を参照

1. 作業中に15分調べたり考えてもわからない事がある際は、<br/>
Draft Pull Requestを用いて、わからない箇所を聞くとコードを見ながら意見を出し合えます。<br/>
[Draft Pull Request の使い方](https://qiita.com/tatane616/items/13da1b6797a7b871ad58)<br/>
もし、この機能の使い方がわからない時は、プロジェクトの管理者に直接連絡して聞くとよいです。<br/>
優しく教えてくれます。

1. 作業が完了したら、**dev** ブランチにプルリクエストを投げます。<br/>
この際、チームリーダーや、リポジトリのオーナーをレビュワーに指定してください。<br/>
プルリクエストの投げ方は、 [**プルリクエストの作成方法**](#プルリクエストの作成方法) を参照してください。<br/>
この際、コードレビューをする人は[この記事](https://qiita.com/hinora/items/266fbfb62fd3d4c45edd)を熟読している事が推奨されています。

1. レビュワーのコードレビューを待ちます。<br/>
レビューが帰ってきたら、レビュワーの指示に従い、コードの修正またはマージを行ってください。<br/>
この際、コードレビューを受ける人は[この記事](https://qiita.com/hinora/items/fb083a97d6e2ab8a9aa3)を熟読している事が推奨されています。

1. コードレビューが完了し、無事にマージされたら基本的にはブランチは削除して構いません。<br/>
別途、管理者の指示がある場合はそれに従いましょう。
<br/>
<br/>

## 環境構築
本プロジェクトは、以下の環境を想定しています。<br/>

| ツール名 | バージョン |
| :--- | ---: |
| AndroidStudio | Chipmunk 2021.2.1 Patch 2 |
| Git | 2.37.1.windows.1 |
| JDK | 1.8 |

また、各種設定は済んでいるものとします。

1. `git clone https://github.com/nitoc-ict/AROA_Android.git` または<br/>
 `git clone git@github.com:nitoc-ict/AROA_Android.git` でリポジトリをクローンします。
<br/>
<br/>

今の所はこれだけで完了です。<br/>
**API_KEYを記入したファイルなどが必要になったら追記してください。**


## ブランチ命名規則 <br/>
本プロジェクトでは、主に以下のルールでブランチを命名します。
| 用途 | 命名規則 | 例 |
| :--- | --- | --- |
| 機能の追加 | feature/*追加する機能の名前* **関連するissue番号** | feature/hogefuga #1 |
| devにマージされたバグの修正 | bugfix/*修正するバグの名前* **関連するissue番号** | bugfix/hogehogango #2 |

命名に迷った際はプロジェクトの管理者に適宜問い合わせてください。

## コミットの粒度について <br/>
コミットの粒度(コミットをする間隔)は、できれば小さいほうが良いです。<br/>
なぜなら、レビュワーが変更を追跡しやすいからです。詳しくは[この記事](https://qiita.com/chihiro/items/04482caebc702e75e84d)を読むとわかると思います。<br/>

本プロジェクトでは、以下のルールでコミットを分けるようにしてください。
- ファイル名、クラス名、メソッド名、変数名を変更したときに名前の変更だけをコミットする
  - この場合は、コミットメッセージで変更前と変更後を書くとよいです。
- 機能ごとにコミットする
- ファイルは1つずつコミットする
  - そのファイルの役割をコミットメッセージで書くと分かりやすいです。
  - ファイルが複数ある場合は、依存関係順にコミットしてください。<br/>
  例：クラスAの内部でクラスBを使用している場合は、クラスBからコミットしてください。

一番意識してほしいのは、一連のコミットを見た人がどんな作業をしているのかを理解できるか？ということです。<br/>
逆に言えば、レビュワーに伝われば本プロジェクトでは問題ないです。

## プルリクエストの作成方法
[この記事](https://hydrakecat.hatenablog.jp/entry/2018/06/30/%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%81%97%E3%81%A6%E3%82%82%E3%82%89%E3%81%84%E3%82%84%E3%81%99%E3%81%84PR%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9)を見れば意識すべきことは大体わかります。<br/>
しかし、上記の記事結構面倒だと思うので、参考程度にして大丈夫です。

基本的には以下のテンプレートを元に書いてください。<br/>

タイトル<br/>
```
タイトルには、そのブランチで何をしたのかをできるだけ簡潔に記述してください。
```

本文<br/>
```
# issue
ここには、関連するissueを書いておきます。
#1 という感じでissue番号だけで良いです。

# 変更内容
これは必須です。このプルリクエストにはどのような成果が含まれているのかを記述してください。<br/>
詳しくはコミットメッセージを見ればわかると思うので、概要で構いません。
場合によっては本文と同じでも大丈夫です。

# 変更理由
これは必要であれば書いてください。
文字通り、なぜその変更を行ったのかということですが、
基本的に「必要な機能だから。」になると思うので本プロジェクトでは基本的に書かなくても良いと思います。
何か特別に伝えておきたい意図などがあれば書いておいてください。
```
